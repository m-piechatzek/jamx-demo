<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>JAM-X</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="../img/favicon.ico" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="../css/styles.css" rel="stylesheet" />
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://kit.fontawesome.com/ebad63af59.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="../index.html">JAM-X</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Game</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="../play.html">Play</a></li>
                            <li>
                                <hr class="dropdown-divider" />
                            </li>
                            <li><a class="dropdown-item" href="../user-guide.html">User Guide</a></li>
                            <li><a class="dropdown-item" href="../resources.html">Extra Resources</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="../storyboard.html">Storyboard</a></li>
                    <li class="nav-item"><a class="nav-link" href="../feedback.html">Feedback</a></li>
                    <li class="nav-item"><a class="nav-link" href="../about-us.html">About us</a></li>
                </ul>
                <form class="d-flex">
                    <button disabled class="btn btn-outline-dark" type="submit">
                        Admin Login
                    </button>
                </form>
            </div>
        </div>
    </nav>
    <!-- Product section-->
    <section class="pt-5">
        <div class="container px-4 px-lg-5 my-3">
            <div class="row gx-4 gx-lg-5 align-items-center">
                <div class="col-md-6">
                    <div class="small mb-1">MODULE 3</div>
                    <h1 class="display-5 fw-bolder">Métis’ Economic Activity</h1>
                    <p>Click on the sentence to have it read out loud! Try to do your best to follow along. Once you have finished reading, you can play your word matching game!</p>
                </div>
                <div class="col-md-6">
                    <iframe width="100%" src="https://drive.google.com/file/d/1sY57N5r6muEWj2zuWsuI-pjYBGNN58FI/view" allow="autoplay"></iframe>
                    <p class="text-center">Instructions by Xinzhu Rao</p>
                </div>
            </div>
    </section>
    <style>
        .box>p {
                background-color: white;
                border-color: #0f0f0f;
                border-radius: 10px;
                border-width: 1px;
                border-style: solid;
                padding: 2rem;
                font-size: 1.5em;
                transition: .4s;
        }

        .box>p:hover {
                background-color: beige;
                border-color: gold;
                /*font-weight: 600;*/
            }


    </style>
    <!-- GAME 2 -->
    <section class="pb-5 bg-light py-3 px-3">
        <div class="container px-4 px-lg-5 pt-5 my-3 bg-white">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-4">
                    <div id="readingPoints">
                        <h3 class="text-center pb-3">Reading Progress</h3>
                        <div class="text-center"> <strong>Select Voice: <select id='voiceList'></select> <br><br></strong></div>
                        <!--   <div class="text-center">
                            <p>
                                <strong>Sentence 1</strong>: <span id="s1Pro">0</span>
                            </p>
                            <p>
                                <strong>Sentence 2</strong>: <span id="s2Pro">0</span>
                            </p>
                            <p>
                                <strong>Sentence 3</strong>: <span id="s3Pro">0</span>
                            </p>
                        </div> -->
                        <div class="mb-2 text-center">
                            <!-- <button id="start" class="btn btn-success mt-5 me-3">Start</button> -->
                            <button id="pause" class="btn btn-warning mt-5 me-3"><i class="fas fa-pause"></i></button>
                            <button id="resume" class="btn btn-info mt-5 me-3"><i class="fas fa-arrows-alt-h"></i></button>
                            <button id="cancel" class="btn btn-danger mt-5 me-3"><i class="fas fa-times"></i></button>
                        </div>
                    </div>
                    <div id="points" class="text-center">
                        <h3 class="text-center pb-3">JAM-X Points</h3>
                        <p>
                            <strong>Sentence 1 Point</strong>: <span id="s1Game">0</span>
                        </p>
                        <p>
                            <strong>Sentence 2 Point</strong>: <span id="s2Game">0</span>
                        </p>
                        <p>
                            <strong>Sentence 3 Point</strong>: <span id="s3Game">0</span>
                        </p>
                        <!--   <div class="mb-2 text-center">
                            <button id="s1Btn" class="btn btn-light">1</button>
                            <button id="s2Btn" class="btn btn-light">2</button>
                            <button id="s3Btn" class="btn btn-light">3</button>
                        </div> -->
                    </div>
                    <p class="text-center py-3">
                        <!-- add disabled -->
                        <button onclick="hideShow()" id="playBtn" type="button" class="btn btn-warning">Play JAM-X!</button>
                    </p>
                </div>
                <div class="col-md-8">
                    <div id="reading">
                        <h3 class="text-center pb-3">Click on the words to practice reading</h3>
                        <div class="box">
                            <!-- <i class="fas fa-volume-up"></i> -->
                            <p id="s1p"><i class="fas fa-play"></i> &nbsp; &nbsp;1.
                                <span id="s1">
                                    In Michif, the word for beaver is “aen kaastor.” At the start of the fur trade, the First Nations did most of the trapping. However, the Métis, who are sometimes considered “children of the fur trade,” became skilled hunters and trappers as well. The Métis began making a living as trappers by the end of the 1700s.
                                </span>
                            </p>
                            <p id="s2p"><i class="fas fa-play"></i> &nbsp; &nbsp;2.
                                <span id="s2">The Métis had a special relationship with their horses. Riders performed acrobatic feats on horseback; they held competitions in which they would pick an object up off the ground while riding at full gallop. </span>
                            </p>
                            <p id="s3p"><i class="fas fa-play"></i> &nbsp; &nbsp;3.
                                <span id="s3">Métis buffalo hunting began in the late 18th century. Trading companies working on the plains sought out food items that could last their traders on long trips; pemmican can be stored for long periods of time without spoiling, which made it an ideal product. </span>
                            </p>
                        </div>
                    </div>
                    <style>
                    #imgWord {
                        border-color: #0f0f0f;
                        border-radius: 10px;
                        border-width: 1px;
                        border-style: solid;
                    }

                    </style>
                    <div id="jamxId">
                        <div id="sentence1">
                            <h3 class="text-center pb-3">Sentence 1</h3>
                            <div class="row  justify-content-center">
                                <div class="jamx col-md-12 col-lg-12 col-sm-12 py-3 px-3 bg-light">
                                    <div class="row justify-content-md-center">
                                        <div class="col-md-5 col-lg-6 col-sm-12">
                                            <p>
                                                <div class="text-center">
                                                    <img id="imgWord" name="beaver" src="../img/beaver.jpeg" alt="Beaver">
                                                </div>
                                            </p>
                                        </div>
                                        <div class="col-md-7 col-lg-6 col-sm-12">
                                            <div class="wordsTitle py-5">
                                                <h4>Beginning</h4>
                                                <h4>Ending</h4>
                                            </div>
                                            <ul id="words1" class="words columns-2 list-unstyled">
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="sentence2">
                            <h3 class="text-center pb-3">Sentence 2</h3>
                            <div class="row gx-4 gx-lg-5  justify-content-center">
                                <div class="jamx col-md-12 col-lg-12 col-sm-12 py-3 px-3 bg-light">
                                    <div class="row justify-content-md-center">
                                        <div class="col-md-5 col-lg-6 col-sm-12">
                                            <p>
                                                <div class="text-center">
                                                    <img id="imgWord" name="horse" src="../img/horse.jpeg" alt="Horse">
                                                </div>
                                            </p>
                                        </div>
                                        <div class="col-md-7 col-lg-6 col-sm-12">
                                            <div class="wordsTitle py-5">
                                                <h4>Beginning</h4>
                                                <h4>Ending</h4>
                                            </div>
                                            <ul id="words2" class="words columns-2 list-unstyled">
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="sentence3">
                            <h3 class="text-center pb-3">Sentence 3</h3>
                            <div class="row gx-4 gx-lg-5  justify-content-center">
                                <div class="jamx col-md-12 col-lg-12 col-sm-12 py-3 px-3 bg-light">
                                    <div class="row justify-content-md-center">
                                        <div class="col-md-5 col-lg-6 col-sm-12">
                                            <p>
                                                <div class="text-center">
                                                    <img id="imgWord" name="bison" src="../img/bison.jpeg" alt="Bison">
                                                </div>
                                            </p>
                                        </div>
                                        <div class="col-md-7 col-lg-6 col-sm-12">
                                            <div class="wordsTitle py-5">
                                                <h4>Beginning</h4>
                                                <h4>Ending</h4>
                                            </div>
                                            <ul id="words3" class="words columns-2 list-unstyled">
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="complete" class="text-center">
                            <h3>Complete! You Did It!!</h3>
                        </div>
                        <div class="mb-2 text-center py-3">
                            <button id="s1Btn" class="btn btn-light">1</button>
                            <button id="s2Btn" class="btn btn-light">2</button>
                            <button id="s3Btn" class="btn btn-light">3</button>
                        </div>
                    </div>
                    <!-- <input id='txtInput' /> <br><br> -->
                    <!-- <button id='btnSpeak'>Speak!</button> -->
                    <script>
                    var txtInput = document.querySelector('#txtInput');
                    var voiceList = document.querySelector('#voiceList');
                    var btnSpeak = document.querySelector('#btnSpeak');
                    var s1 = document.getElementById('s1');
                    var s1p = document.getElementById('s1p');
                    var s2p = document.getElementById('s2p');
                    var s3p = document.getElementById('s3p');
                    var synth = window.speechSynthesis;
                    var voices = [];

                    PopulateVoices();
                    if (speechSynthesis !== undefined) {
                        speechSynthesis.onvoiceschanged = PopulateVoices;
                    }

                    s1p.addEventListener('click', () => {
                        var toSpeak = new SpeechSynthesisUtterance(s1.innerHTML);
                        var selectedVoiceName = voiceList.selectedOptions[0].getAttribute('data-name');
                        voices.forEach((voice) => {
                            if (voice.name === selectedVoiceName) {
                                toSpeak.voice = voice;
                            }
                        });
                        toSpeak.rate = 0.5;
                        synth.speak(toSpeak);
                    });
                    s2p.addEventListener('click', () => {
                        var toSpeak = new SpeechSynthesisUtterance(s2.innerHTML);
                        var selectedVoiceName = voiceList.selectedOptions[0].getAttribute('data-name');
                        voices.forEach((voice) => {
                            if (voice.name === selectedVoiceName) {
                                toSpeak.voice = voice;
                            }
                        });
                        toSpeak.rate = 0.5;

                        synth.speak(toSpeak);
                    });
                    s3p.addEventListener('click', () => {
                        var toSpeak = new SpeechSynthesisUtterance(s3.innerHTML);
                        var selectedVoiceName = voiceList.selectedOptions[0].getAttribute('data-name');
                        voices.forEach((voice) => {
                            if (voice.name === selectedVoiceName) {
                                toSpeak.voice = voice;
                            }
                        });
                        toSpeak.rate = 0.5;

                        synth.speak(toSpeak);
                    });

                    document.querySelector("#pause").addEventListener("click", () => {
                        synth.pause();
                    });

                    document.querySelector("#resume").addEventListener("click", () => {
                        synth.resume();
                    });

                    document.querySelector("#cancel").addEventListener("click", () => {
                        synth.cancel();
                    });

                    function PopulateVoices() {
                        voices = synth.getVoices();
                        var selectedIndex = voiceList.selectedIndex < 0 ? 0 : voiceList.selectedIndex;
                        voiceList.innerHTML = '';
                        voices.forEach((voice) => {
                            var listItem = document.createElement('option');
                            listItem.textContent = voice.name;
                            listItem.setAttribute('data-lang', voice.lang);
                            listItem.setAttribute('data-name', voice.name);
                            voiceList.appendChild(listItem);
                        });

                        voiceList.selectedIndex = selectedIndex;
                    }

                    // Sentence Display Show Hide
                    let s1Btn = document.getElementById('s1Btn');
                    let s2Btn = document.getElementById('s2Btn');
                    let s3Btn = document.getElementById('s3Btn');

                    let s1Sentence = document.getElementById('sentence1');
                    let s2Sentence = document.getElementById('sentence2');
                    let s3Sentence = document.getElementById('sentence3');

                    s1Btn.addEventListener('click', () => {
                        s1Sentence.style.display = "block";
                        s2Sentence.style.display = "none";
                        s3Sentence.style.display = "none";
                    });

                    s2Btn.addEventListener('click', () => {
                        s1Sentence.style.display = "none";
                        s2Sentence.style.display = "block";
                        s3Sentence.style.display = "none";
                    });

                    s3Btn.addEventListener('click', () => {
                        s1Sentence.style.display = "none";
                        s2Sentence.style.display = "none";
                        s3Sentence.style.display = "block";
                    });

                    </script>
                </div>
            </div>
            <style>
            .columns-2 {
                column-count: 2;
            }

            .bg-pretty {
                background-color: #f1f5f6;
            }


            .words {
                display: grid;
                grid-template-columns: repeat(2, minmax(100px, 1fr));
                text-align: center;
                grid-gap: 20px;
            }

            .words>li {
                background-color: white;
                border-color: #0f0f0f;
                border-radius: 10px;
                border-width: 1px;
                border-style: solid;
                padding-top: 1rem;
                padding-bottom: 1rem;
                font-size: 1.5em;
                transition: .4s;
            }


            .words>li:hover {
                background-color: beige;
                border-color: gold;
                font-weight: 600;
            }

            .wordsTitle {
                display: grid;
                grid-template-columns: repeat(2, minmax(100px, 1fr));
                text-align: center;
                grid-gap: 20px;
            }

            .jamx {
                border-color: #0f0f0f;
                border-radius: 10px;
                border-width: 1px;
                border-style: solid;
            }

            #jamxId img {
                aspect-ratio: 1/1;
                width: 100%;
            }

            #jamxId>#sentence2,
            #jamxId>#sentence3,
            #jamxId>#complete {
                display: none;
            }

            #jamxId,
            #points {
                display: none;
                /*transition: .4s;*/
                animation: fadeIn .5s;
                -webkit-animation: fadeIn .5s;
                -moz-animation: fadeIn .5s;
                -o-animation: fadeIn .5s;
                -ms-animation: fadeIn .5s;
            }

            @keyframes fadeIn {
                0% {
                    opacity: 0;
                }

                100% {
                    opacity: 1;
                }
            }

            @-moz-keyframes fadeIn {
                0% {
                    opacity: 0;
                }

                100% {
                    opacity: 1;
                }
            }

            @-webkit-keyframes fadeIn {
                0% {
                    opacity: 0;
                }

                100% {
                    opacity: 1;
                }
            }

            @-o-keyframes fadeIn {
                0% {
                    opacity: 0;
                }

                100% {
                    opacity: 1;
                }
            }

            @-ms-keyframes fadeIn {
                0% {
                    opacity: 0;
                }

                100% {
                    opacity: 1;
                }
            }

            </style>
            <script>
            let wordsArray1 = ['h', 'ttern', 'be', 'oot', 'ca', 'aver'];
            let wordsArray2 = ['r', 'ow', 'f', 'ew', 'h', 'orse'];
            let wordsArray3 = ['bi', 'as', 'fo', 'son', 'po', 'wer'];
            let word1 = "beaver";
            let word2 = "horse";
            let word3 = "bison";
            let compareWord = "";
            let compareArray = [];
            let s1SentenceCount = document.getElementById('s1Game');
            let s2SentenceCount = document.getElementById('s2Game');
            let s3SentenceCount = document.getElementById('s3Game');

            // populate list with words
            function showWords() {

                document.getElementById('words1').innerHTML =
                    '<li>' + wordsArray1.join('</li><li>') + '</li>'

                document.getElementById('words2').innerHTML =
                    '<li>' + wordsArray2.join('</li><li>') + '</li>'

                document.getElementById('words3').innerHTML =
                    '<li>' + wordsArray3.join('</li><li>') + '</li>'
            }

            showWords();

            //compare letters
            document.getElementById("words1").addEventListener("click", function(e) {
                if (e.target && e.target.matches("li")) {
                    compareArray.push(e.target.textContent);
                    console.log("li", e.target);
                    if (compareArray.length == 2) {
                        compareWord = compareArray[0] + compareArray[1];
                        if (compareWord == word1) {
                            // alert("CORRECT!");
                            swal("Good job!", "You got sentence 1 right!", "success");
                            compareArray = [];
                            compareWord = "";
                            s1SentenceCount.innerHTML = "1";
                            if ((s1SentenceCount.innerHTML + s2SentenceCount.innerHTML + s3SentenceCount.innerHTML) == '111') {
                                let complete = document.getElementById('complete');
                                complete.style.display = "block";
                                s1Sentence.style.display = "none";
                                s2Sentence.style.display = "none";
                                s3Sentence.style.display = "none";
                            }
                        } else {
                            swal("Try again!", "", "error");
                            compareArray = [];
                            compareWord = "";
                            s1SentenceCount.innerHTML = "0";

                        }
                    }
                }
            });
            document.getElementById("words2").addEventListener("click", function(e) {
                if (e.target && e.target.matches("li")) {
                    compareArray.push(e.target.textContent);
                    console.log("li", e.target);
                    if (compareArray.length == 2) {
                        compareWord = compareArray[0] + compareArray[1];
                        if (compareWord == word2) {
                            swal("Good job!", "You got sentence 2 right!", "success");
                            compareArray = [];
                            compareWord = "";
                            s2SentenceCount.innerHTML = "1";
                            if ((s1SentenceCount.innerHTML + s2SentenceCount.innerHTML + s3SentenceCount.innerHTML) == '111') {
                                let complete = document.getElementById('complete');
                                complete.style.display = "block";
                                s1Sentence.style.display = "none";
                                s2Sentence.style.display = "none";
                                s3Sentence.style.display = "none";
                            }
                        } else {
                            swal("Try again!", "", "error");
                            compareArray = [];
                            compareWord = "";
                            s2SentenceCount.innerHTML = "0";

                        }
                    }
                }
            });
            document.getElementById("words3").addEventListener("click", function(e) {
                if (e.target && e.target.matches("li")) {
                    compareArray.push(e.target.textContent);
                    console.log("li", e.target);
                    if (compareArray.length == 2) {
                        compareWord = compareArray[0] + compareArray[1];
                        if (compareWord == word3) {
                            swal("Good job!", "You got sentence 3 right!", "success");
                            compareArray = [];
                            compareWord = "";
                            s3SentenceCount.innerHTML = "1";
                            if ((s1SentenceCount.innerHTML + s2SentenceCount.innerHTML + s3SentenceCount.innerHTML) == '111') {
                                let complete = document.getElementById('complete');
                                complete.style.display = "block";
                                s1Sentence.style.display = "none";
                                s2Sentence.style.display = "none";
                                s3Sentence.style.display = "none";
                            }

                        } else {
                            swal("Try again!", "", "error");
                            compareArray = [];
                            compareWord = "";
                            s3SentenceCount.innerHTML = "0";

                        }
                    }
                }
            });
            // Show button when children have read

            // let playBtn = document.getElementById('playBtn');
            // playBtn.removeAttribute('disabled');

            // Hide Show
            function hideShow() {
                var x = document.getElementById("jamxId");
                var reading = document.getElementById("reading");
                var points = document.getElementById("points");
                var readingPoints = document.getElementById("readingPoints");

                if (x.style.display === "none") {
                    readingPoints.style.display = "none";
                    x.style.display = "block";
                    points.style.display = "block";
                    reading.style.display = "none";
                } else {
                    readingPoints.style.display = "block";
                    points.style.display = "none";
                    x.style.display = "none";
                    reading.style.display = "block";

                }
            }

            </script>
    </section>
    <!-- Footer-->
    <footer class="py-5 bg-dark">
        <div class="container">
            <p class="m-0 text-center text-white">Copyright &copy; JAM-X 2021</p>
        </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="../js/scripts.js"></script>
    <script>
    /*    let speech = new SpeechSynthesisUtterance();
    speech.lang = "en";

    let voices = [];
    window.speechSynthesis.onvoiceschanged = () => {
        voices = window.speechSynthesis.getVoices();
        speech.voice = voices[0];
        let voiceSelect = document.querySelector("#voices");
        voices.forEach((voice, i) => (voiceSelect.options[i] = new Option(voice.name, i)));
    };

    document.querySelector("#rate").addEventListener("input", () => {
        const rate = document.querySelector("#rate").value;
        speech.rate = rate;
        document.querySelector("#rate-label").innerHTML = rate;
    });

    document.querySelector("#volume").addEventListener("input", () => {
        const volume = document.querySelector("#volume").value;
        speech.volume = volume;
        document.querySelector("#volume-label").innerHTML = volume;
    });

    document.querySelector("#pitch").addEventListener("input", () => {
        const pitch = document.querySelector("#pitch").value;
        speech.pitch = pitch;
        document.querySelector("#pitch-label").innerHTML = pitch;
    });

    document.querySelector("#voices").addEventListener("change", () => {
        speech.voice = voices[document.querySelector("#voices").value];
    });
*/
    // document.querySelector("#start").addEventListener("click", () => {
    //     speech.text = document.querySelector("textarea").value;
    //     window.speechSynthesis.speak(speech);
    // });

    </script>
</body>

</html>
<!-- https://github.com/zolomohan/text-to-speech/blob/master/textToSpeech.js -->
